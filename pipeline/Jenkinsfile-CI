@Library('shared-library-dotnet') _
pipeline {
    agent any
    
    environment {
       sonarlogin = credentials('sonar_token')
       nexuslogin = credentials('nexus-login')
       }
    
    
    stages {
      
     //    stage('Install Dotnet Tools') {
     //         steps {
     //             InstallDotnetTools()               
     //         }
     //         }
        stage('Dotnet Build') {
           steps {
               cleanWs()
               BuildApp()               
           }
           }
      //  stage('Sonar Analysis') {
        //   steps {
          //     SonarApp(sonarlogin)               
           //}
        //}
        stage('Store war to Nexus') {
           steps {
               StoreToNexus(env.BUILD_NUMBER)               
           }
           }
        
    }
}  
