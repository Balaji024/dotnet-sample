@Library('shared-library-dotnet') _

pipeline {

    agent any   
    environment {
       sonarlogin = credentials('sonar_token')
       }
    stages {
      
    stage('Dotnet Build') {
       steps {
           BuildApp()               
       }
       }
     stage('SonarAnalysis') {
       steps {
           SonarApp(sonarlogin)
       }
       }   
    stage('Store war to Nexus') {
       steps {
           StoreToNexus()
           cleanWs()
       }
       }       
    }
}  
